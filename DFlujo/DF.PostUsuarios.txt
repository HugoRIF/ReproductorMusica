@startuml
title __POST usuarios__
start

	
if(Arreglo Usuario definido?) then (si)
:Recibir Arreglo;
floating note left
Datos de Usuario[]:
 nombre: no es vacio
 contrasenia: no es vacia
 tipo_usuario: no es vacio
end note
	if (Datos Validos?) then (Datos validos)



		:Hacer Query ;
		 note left: Hacer SELECT a la tabla 'usuario',\nrevisar si existe un usuario con el mismo nombre
		if (Query exitoso?) then (si)
			if (Existe Usuario?) then (SI)
				:Hacer query;
				note right
					Hacer INSERT a la tabla 'usuario
      			        end note
				if (Query exitoso? ) then (si)
					:crearRespuesta(201, "Usuario Agregado", data=[]);
				else (no)
					:crearRespuesta(202, "No se puede agregar Usuario", data=[]);
				endif
			else (NO)
				:crearRespuesta(200, "Usuario Existe", data=[]);
			endif
		else (no)
			:crearRespuesta(404, "Error en la consulta", []);
		endif
	else (Datos invalidos)
		:crearRespuesta(400, "Error en los parametros", []);
	endif
	
else (no)
:crearRespuesta(400, "Error en los parametros", []);
endif
:response(ArregloResponse);
stop
@enduml